<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Accounting Basics – Kevin’s Accounting Notes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Kevin’s Accounting Notes</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../accounting/accounting.html" aria-current="page"> 
<span class="menu-text">Accounting</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../assurance/assurance.html"> 
<span class="menu-text">Assurance</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../business/business.html"> 
<span class="menu-text">Business</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../tax/tax.html"> 
<span class="menu-text">Tax</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../accounting/accounting.html">Accounting Basics</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../accounting/accounting.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Accounting Basics</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../accounting/prepare.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preparing Statements</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../accounting/adjust.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Adjustments</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><strong>Introduction</strong></a>
  <ul class="collapse">
  <li><a href="#financial-statements" id="toc-financial-statements" class="nav-link" data-scroll-target="#financial-statements">Financial Statements</a></li>
  <li><a href="#types-of-businesses" id="toc-types-of-businesses" class="nav-link" data-scroll-target="#types-of-businesses">Types of Businesses</a></li>
  <li><a href="#accounting-principles" id="toc-accounting-principles" class="nav-link" data-scroll-target="#accounting-principles">Accounting Principles</a></li>
  <li><a href="#accounting-conventions" id="toc-accounting-conventions" class="nav-link" data-scroll-target="#accounting-conventions">Accounting Conventions</a></li>
  </ul></li>
  <li><a href="#accounting-concepts" id="toc-accounting-concepts" class="nav-link" data-scroll-target="#accounting-concepts"><strong>Accounting Concepts</strong></a>
  <ul class="collapse">
  <li><a href="#accounting-equation" id="toc-accounting-equation" class="nav-link" data-scroll-target="#accounting-equation">Accounting Equation</a></li>
  <li><a href="#expenditures" id="toc-expenditures" class="nav-link" data-scroll-target="#expenditures">Expenditures</a></li>
  <li><a href="#debits-and-credits" id="toc-debits-and-credits" class="nav-link" data-scroll-target="#debits-and-credits">Debits and Credits</a></li>
  <li><a href="#accrual-accounting" id="toc-accrual-accounting" class="nav-link" data-scroll-target="#accrual-accounting">Accrual Accounting</a></li>
  <li><a href="#accounting-errors" id="toc-accounting-errors" class="nav-link" data-scroll-target="#accounting-errors">Accounting Errors</a></li>
  </ul></li>
  <li><a href="#reporting-standards" id="toc-reporting-standards" class="nav-link" data-scroll-target="#reporting-standards"><strong>Reporting Standards</strong></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Accounting Basics</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This page contains the basics of accounting, including the different financial statements, accounting principles, and reporting standards. The content in this section is a part of the <strong>Accounting Fundamentals</strong> (certificate level) for the ACA qualification.</p>
<p><br></p>
<hr>
<section id="introduction" class="level1">
<h1><strong>Introduction</strong></h1>
<section id="financial-statements" class="level3">
<h3 class="anchored" data-anchor-id="financial-statements">Financial Statements</h3>
<p>Summarising transactions: this provides information about the company to stakeholders. Stakeholders can include shareholders, investors, employees, banks, or any users that may interact with the company. This takes the form of 4 financial statements:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Balance Sheet</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Income Statement</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Cash Flows</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Changes in Equity</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>The statement of financial position (balance sheet) reflects the <strong>position</strong> of a business at a specific point in time. This includes the assets (the things the company owns), the liabilities (what the company owes), and the equity (the investment in the company).</p>
<table class="table-bordered table-sm small caption-top table">
<colgroup>
<col style="width: 35%">
<col style="width: 65%">
</colgroup>
<tbody>
<tr class="odd">
<td><p>Current Assets</p>
<p>Non Current Assets</p>
<p><strong>Total Assets</strong></p></td>
<td><p>£–</p>
<p>£–</p>
<p>£–</p></td>
</tr>
<tr class="even">
<td><p>Equity</p>
<p>Current Liabilities</p>
<p>Non-Current Liabilities</p></td>
<td><p>£–</p>
<p>£–</p>
<p>£–</p></td>
</tr>
<tr class="odd">
<td><strong>Total Equity and Liabilities</strong></td>
<td>£–</td>
</tr>
</tbody>
</table>
<p>See the accounting equation for more details on assets, equity, and liabilities.</p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>The <strong>statement of profit or loss</strong> (income statement) reflects the <strong>performance</strong> (profitability) of a business over a period of time (usually a year). It starts with the revenue of the year, then subtracts different revenue expenditures until we reach the net profit figure.</p>
<table class="table-bordered table-sm small caption-top table">
<colgroup>
<col style="width: 35%">
<col style="width: 65%">
</colgroup>
<tbody>
<tr class="odd">
<td>Revenue</td>
<td>£–</td>
</tr>
<tr class="even">
<td><p>less Cost of Sales</p>
<p><strong>Gross Profit</strong></p></td>
<td><p>(£–)</p>
<p>£–</p></td>
</tr>
<tr class="odd">
<td><p>(less) Operating Expenses</p>
<p><strong>Operating Profit</strong></p></td>
<td><p>(£–)</p>
<p>£–</p></td>
</tr>
<tr class="even">
<td><p>Finance income (bank interest)</p>
<p>(less) Financing Expenses</p>
<p><strong>Profit before Tax</strong></p></td>
<td><p>£–</p>
<p>(£–)</p>
<p>£–</p></td>
</tr>
<tr class="odd">
<td><p>(less) Tax Expenses</p>
<p><strong>Net Profit</strong></p></td>
<td><p>(£–)</p>
<p>£–</p></td>
</tr>
</tbody>
</table>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<p>The <strong>statement of cash flows</strong> shows how <strong>cash</strong> is entering and exiting the business over a period of time. Useful to see if the company has enough cash to pay off short term loans/liabilities.</p>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<p>The <strong>statement of changes in equity</strong> shows how <strong>equity</strong> (stock/shares) are changing in a business over a period of time. Useful to see how the company is issuing shares.</p>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="types-of-businesses" class="level3">
<h3 class="anchored" data-anchor-id="types-of-businesses">Types of Businesses</h3>
<p>There are several types of businesses, that will affect the reporting standards and legal liability of businesses.</p>
<table class="table-bordered table-sm small caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 35%">
<col style="width: 20%">
<col style="width: 25%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Sole Trader</strong></td>
<td>A business owned and operated by one person. Common with small businesses.</td>
<td>The owner is <strong>personally liable</strong> for any losses.</td>
<td>Sole traders legally only need to file accounts for tax purposes.</td>
</tr>
<tr class="even">
<td><strong>Partnership</strong></td>
<td>A business owned and operated by a joint number of partners (a collection of sole traders). Common with law and accountancy firms.</td>
<td>The partners are <strong>personally liable</strong> for any losses.</td>
<td>Partnerships legally only need to file accounts for tax purposes.</td>
</tr>
<tr class="odd">
<td><strong>Company</strong></td>
<td><p>A business that is a separate legal entity. It is owned by <strong>shareholders</strong>, who elect <strong>directors</strong> to run the business.</p>
<ul>
<li>Limited Liability Companies (LLC): privately owned, no trading shares.</li>
<li>Public Limited Company (PLC): publicly owned, shares are traded.</li>
<li>Limited Liability Partnerships (LLP): a partnership that is a separate legal entity.</li>
</ul></td>
<td><strong><em>Limited liability</em></strong> - the shareholders are not personally liable for losses.</td>
<td>Companies are required to provide more details in their financial statements. These accounts must be provided to Companies House.</td>
</tr>
<tr class="even">
<td><strong>Not-for-Profit</strong></td>
<td>Charities, clubs and societies, and government/public sector organisations (ex. NHS).</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Personal Liability
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>When saying personal liability, this means people can have their personal belongings repossessed to pay off the debts of a business.</p>
<ul>
<li>A person’s private car and house can be taken away.</li>
</ul>
<p>In limited liability, only the money the person invested can be lost. Their personal belongings are not at risk even if the company is in debt.</p>
</div>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Business Entity Concept
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>No matter the type of business, their financial statements should only include transactions related to the business. This is the business entity concept - the business is a separate entity (even if legal liability is not separate).</p>
<ul>
<li>Ex. most sole traders should have a separate account for personal and business matters. Personal matters should not be included in the financial statements.</li>
<li>If a sole trader needs to pull things in and out of a business, they invest capital into the business (equity increase), or draw from the business (equity decrease).</li>
</ul>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="accounting-principles" class="level3">
<h3 class="anchored" data-anchor-id="accounting-principles">Accounting Principles</h3>
<p>There are a set of principles that characterise good financial information and reporting:</p>
<table class="table-bordered table-sm small caption-top table">
<colgroup>
<col style="width: 30%">
<col style="width: 70%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Relevance</strong></td>
<td>Information should be useful, and has the ability to influence decisions of users. Non-material things are not very important.</td>
</tr>
<tr class="even">
<td><strong>Faithful Representation / Reliabiility</strong></td>
<td>Information in the statements should represent reality correctly and accurately. Information should be neutral, free from bias, and free from errors. No speculation, just what is there.</td>
</tr>
<tr class="odd">
<td><strong>Comparability</strong></td>
<td>Information should be reported in a similar manner (with same methods) for different firms over the same time period to allow for comparisons between firms. They should also be reported similarly between years to allow for trend analysis.</td>
</tr>
<tr class="even">
<td><strong>Verifiability</strong></td>
<td>The information should be able to be verified to be accurate (generally through an audit), and has evidence to back up the assertions.</td>
</tr>
<tr class="odd">
<td><strong>Timeliness</strong></td>
<td>Information should be available quickly to influence decisions - info should not be delayed so that it is out-of-date.</td>
</tr>
<tr class="even">
<td><strong>Understandability</strong></td>
<td>Information should be expressed clearly and according to standards so it is understood.</td>
</tr>
</tbody>
</table>
<p><br></p>
</section>
<section id="accounting-conventions" class="level3">
<h3 class="anchored" data-anchor-id="accounting-conventions">Accounting Conventions</h3>
<p>Accounting is a set of standards to record business transactions, allowing comparisons between companies, and for stakeholders to make decisions. It is important the financial information follows certain conventions:</p>
<table class="table-bordered table-sm small caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 45%">
<col style="width: 35%">
</colgroup>
<thead>
<tr class="header">
<th>Convention</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Historic Cost</strong></td>
<td>We should report things at historic cost: the cost at acquisition. Current valuations are subjective and can change.</td>
<td>If a firm bought a property for £50m, it should be listed as £50m.</td>
</tr>
<tr class="even">
<td><strong>Prudence/Conservatism</strong></td>
<td>We should be conservative in making judgmenets. Under-promise (don’t overstate profits/good things, always state even potential bad things like losses and liabilities).</td>
<td>If a firm has a reasonable chance of incurring a liability, we should notify investors of this ahead of time. However, we should not notify investors of good news (profits) before they are realised.</td>
</tr>
<tr class="odd">
<td><strong>Money Measurement</strong></td>
<td>In general, financial statements should include things that can be valued in monetary terms. This is to avoid subjectiveness.</td>
<td>Things like favourable geographic location cannot be given a monetary value, so are at risk of being inflated by management.</td>
</tr>
<tr class="even">
<td><strong>Matching</strong></td>
<td>Expenses should be matched to the revenues they generate.</td>
<td>If we sell a car this period, but haven’t yet received the payment, we should still match the expense of the car to this sale this period.</td>
</tr>
<tr class="odd">
<td><strong>Going Concern</strong></td>
<td>We report statements, with the assumption that the business will continue operations for the foreseeable future. If this isn’t the case, we should recommend to not use going concern.</td>
<td>If Microsoft is suing a small firm that will cease operations if they lose, and the firm has a 95% chance of losing, it is reasonable to notify investors about this.</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><br></p>
<hr>
</section>
</section>
<section id="accounting-concepts" class="level1">
<h1><strong>Accounting Concepts</strong></h1>
<section id="accounting-equation" class="level3">
<h3 class="anchored" data-anchor-id="accounting-equation">Accounting Equation</h3>
<p>The <strong>accounting equation</strong> is the following equation:</p>
<blockquote class="blockquote">
<p><strong>Assets = Liabilities + Equity</strong> <span class="math inline">\(\implies\)</span> <strong>Assets - Liabilities = Equity</strong></p>
</blockquote>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Assets</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Liabilities</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Equity</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>Assets are things the company owns, that helps it generate profit. They are divided into current assets and non-current assets.</p>
<table class="table-bordered table-sm small caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 40%">
<col style="width: 35%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Current Assets</strong></td>
<td>Assets you plan to liquidate (turn into cash, move around, sell) within the next 12 months as part of making business.</td>
<td>Inventory, Cash, Cash at bank, Trade Receivables (things customers need to pay to you), Prepayments.</td>
</tr>
<tr class="even">
<td><strong>Non-Current Assets</strong></td>
<td>Assets you do not plan to sell/move on from in the next 12 months, but still help generate profit.</td>
<td>Property Plant Equipment, Fixtures, Vehicles, Factories, Computers, Capital Expenditures.</td>
</tr>
</tbody>
</table>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>Liabilities are things the company owes to external lenders. For example, money they owe to the bank or suppliers. They are divided into current and non-current liabilities.</p>
<table class="table-bordered table-sm small caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 40%">
<col style="width: 35%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Current Liabilities</strong></td>
<td>Things you owe to external lenders that are due within 12 months.</td>
<td>Short Term Borrowings, Trade Payables (things you need to pay), Provisions, Overdrafts.</td>
</tr>
<tr class="even">
<td><strong>Non-Current Liabilities</strong></td>
<td>Things you owe to external lenders that are due in more than 12 months.</td>
<td>Bank Loan.</td>
</tr>
</tbody>
</table>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<p>Equity is the investment of the shareholders of the company. Equity consists of the following accounts:</p>
<table class="table-bordered table-sm small caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 40%">
<col style="width: 35%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Shares/Capital</strong></td>
<td>The direct investment of shareholders/owners. This includes share premium and share capital (discussed later).</td>
<td>Share Premium, Share Capital, Injections</td>
</tr>
<tr class="even">
<td><strong>Retained Earnings</strong></td>
<td>The accumulated profits/loss of the business. Each new year profit is added/subtracted from it.</td>
<td>Retained Earnings.</td>
</tr>
<tr class="odd">
<td><strong>Drawings</strong></td>
<td>When the owners take out money. This can be a sole trader taking a computer out to give to their kid, or dividends issued to shareholders.</td>
<td>Dividends, Drawings.</td>
</tr>
</tbody>
</table>
<p>Based on the above, we can determine the ending equity of a period is:</p>
<blockquote class="blockquote">
<p><strong>(Ending) Equity = Injection of Shares + Opening Equity + Profit - Drawings</strong></p>
</blockquote>
</div>
</div>
</div>
<p>The accounting equation is <strong>always true</strong>: the statement of financial position’s listed assets, liabilities, and equity should always equal/balance.</p>
<p>This equation implies the <strong>duality concept</strong>: that every transaction that affects one side of the equation, must also affect the other side of the equation, in order to keep the accounting equation true.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Net Assets
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Net assets are defined as:</p>
<blockquote class="blockquote">
<p><strong>Net Assets = Assets - Liabilities</strong></p>
</blockquote>
<p>Net current assets are defined as:</p>
<blockquote class="blockquote">
<p><strong>Net Current Assets = Current Assets - Current Liabilities</strong></p>
</blockquote>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="expenditures" class="level3">
<h3 class="anchored" data-anchor-id="expenditures">Expenditures</h3>
<p>There are two main types of expenditures accounts that are also important to note, since these go on different financial statements:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Capital Expenditure</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Revenue Expenditure</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<p>Capital expenditure are expenses used to acquire long-term assets, or to improve or enhance the earning capacity (not maintenance, only improvement) of long term assets you already hold.</p>
<ul>
<li>Ex. Purchasing a factory is acquiring a long-term asset.</li>
<li>However, painting it or repairing it is not enhancing the earning capacity, only maintaining it.</li>
</ul>
<p>Capital expenditures are included in <strong>non-current assets</strong> in the <strong>statement of financial position</strong>.</p>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<p>Revenue expenditure is incurred for either:</p>
<ol type="1">
<li>Purchases for trade purposes, such a raw material, inventory (cost of goods sold), operating expenses (wages, rent, administrative), tax expenses (see below).</li>
<li>To repair/maintain a non-current asset. For example, repairing the roof of a factory is a revenue expenditure, not a capital expenditure.</li>
</ol>
<p>Revenue expenditure is classified into expenses on the <strong>statement of profit or loss</strong>. However, since the net profit is added to retained earnings in the equity section of the balance sheet, it is also indirectly in the balance sheet.</p>
</div>
</div>
</div>
<p>Revenue Expenditures are divided further into these expense accounts:</p>
<table class="table-bordered table-sm small caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 40%">
<col style="width: 35%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Cost of Sales</strong></td>
<td><p>The cost of purchasing the inventory that was sold to generate the revenue in the accounting period.</p>
<p>Can be calculated as: <em>opening inventory + purchases - closing inventory</em>.</p></td>
<td>Ex. Cost of inventory/goods sold.</td>
</tr>
<tr class="even">
<td><strong>Operating Expenses</strong></td>
<td>The expenses involved in operating the business day-to-day outside of cost of sales.</td>
<td>Ex. wages, rent, utility bills.</td>
</tr>
<tr class="odd">
<td><strong>Finance Expenses</strong></td>
<td>Expenses needed for finance/loan arrangements.</td>
<td>Ex. interest payments.</td>
</tr>
<tr class="even">
<td><strong>Tax Expenses</strong></td>
<td>Expenses needed to pay taxes owed.</td>
<td>Ex. Tax</td>
</tr>
</tbody>
</table>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Individual Judgement
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Many figures in financial statements are derived from the application of judgment in applying accounting concepts. This means different people can reach different conclusions.</p>
<ul>
<li>Example: determining whether expenditure is revenue or capital.</li>
<li>Other examples: valuation of buildings, depreciation, etc.</li>
</ul>
<p>Refer to the International Ethics Standards Borad for Accountants (IESBA) and the ICAEW code of ethics, and their <a href="../assurance/assurance.html#ethical-principles">ethical principles</a>.</p>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="debits-and-credits" class="level3">
<h3 class="anchored" data-anchor-id="debits-and-credits">Debits and Credits</h3>
<p>We know from the accounting equation, there is a <strong>duality concept</strong>. Another way to specify this concept is with <strong>debits</strong> (Dr) and <strong>credits</strong> (Cr). They are just fancy ways to say increase and decrease. Importantly, debits and credits do different things for different accounts.</p>
<table class="table-bordered table-sm small caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>Account</th>
<th style="text-align: center;">Debit</th>
<th style="text-align: center;">Credit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Assets</strong> (all)</td>
<td style="text-align: center;">🔺</td>
<td style="text-align: center;">🔻</td>
</tr>
<tr class="even">
<td><strong>Liabilities</strong> (all)</td>
<td style="text-align: center;">🔻</td>
<td style="text-align: center;">🔺</td>
</tr>
<tr class="odd">
<td><strong>General Equity</strong> (Share capital, share premium, injections)</td>
<td style="text-align: center;">🔻</td>
<td style="text-align: center;">🔺</td>
</tr>
<tr class="even">
<td><strong>Expenses</strong> (negative equity)</td>
<td style="text-align: center;">🔺</td>
<td style="text-align: center;">🔻</td>
</tr>
<tr class="odd">
<td><strong>Drawings/Dividends</strong> (negative equity)</td>
<td style="text-align: center;">🔺</td>
<td style="text-align: center;">🔻</td>
</tr>
</tbody>
</table>
<p>The debits and credits of each recorded transaction should balance. See the preparing financial statements to see how we turn debit and credit records into financial statements.</p>
<p><br></p>
<p><br></p>
</section>
<section id="accrual-accounting" class="level3">
<h3 class="anchored" data-anchor-id="accrual-accounting">Accrual Accounting</h3>
<p>In accounting, cash flow is not equal to profit/sales/expenses. For example, if a customer buys a product on credit (so without paying immediately), this sale is already counted in sales/expenses/COGS for the profit statement, even <strong>before the cash has arrived</strong>.</p>
<p>This type of accounting applies to many different scenarios:</p>
<ul>
<li>For purchases on credit, the sale/COGS is recognised immediately, even when the cash has yet to leave.</li>
<li>For pre-payments of expenses (like paying rent ahead of time), the expense is for a later period, but the cash has already left.</li>
</ul>
<p>When we record transactions in the income statement is called the <strong>accrual basis of accounting</strong>. We record profit/expenses for the specific time period in which the transaction occurred, not when the cash transfer occurred.</p>
<ul>
<li>Sales are recorded when they are earned, not when the money is actually received. For example, if the sale occurred in March but the cash was received in April, the sale (and COGS of the sale) go into the March accounts.</li>
<li>Expenses are recorded when they are incurred, rather than when they are paid. For example, if rent for March is paid in April, the rent is considered a March expense.</li>
</ul>
<p>This accrual form of accounting requires two expense accounts.</p>
<table class="table-bordered table-sm small caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 30%">
<col style="width: 30%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Accruals</strong></td>
<td>Accruals are a current period expense, that will not be paid until the next period.</td>
<td>To complete the double entry in the current period, we would <strong><em>DR (increase) the expense</em></strong>, and <strong><em>CR (increase) the accrued expense</em></strong> (liability).</td>
<td>To complete the double entry once paid later, we would <strong><em>DR (decrease) the accrued expense</em></strong> (liability), and <strong><em>CR (decrease) cash</em></strong> (asset).</td>
</tr>
<tr class="even">
<td><strong>Prepayments</strong></td>
<td>Prepayments are a future period expense, that have been paid during this period.</td>
<td>To complete the double entry in the payment period, we would <strong><em>DR (increase) prepayment</em></strong> (asset), and <strong><em>CR (decrease) cash</em></strong> (asset).</td>
<td>To complete the double entry once the service has been delivered, we would <strong><em>CR (decrease) the prepayment</em></strong> (asset), and <strong><em>DR (increase) the expense</em></strong>.</td>
</tr>
</tbody>
</table>
<p><br></p>
</section>
<section id="accounting-errors" class="level3">
<h3 class="anchored" data-anchor-id="accounting-errors">Accounting Errors</h3>
<p>There are 5 main types of errors:</p>
<ol type="1">
<li><strong>Errors of omission</strong>: forgetting to include a transaction in the accounts.</li>
<li><strong>Transposition errors</strong>: when an accountant accidentally swaps the positions of digits in an entry. For example, instead of £3,850, they record it as £3,580.</li>
<li><strong>Errors of principle</strong>: when an accountant records a transaction that breaks the rules/standards of accounting.</li>
<li><strong>Errors of commission</strong>: when an accountant records a transaction in the correct large account but wrong sub-account. For example, they correctly choose asset/liability/equity, but put it in the wrong account. The most common is recording one expense as another.</li>
<li><strong>Compensating errors</strong>: when two are more errors offset each other, resulting in a correct balance for all accounts, but the individual errors are still there.</li>
</ol>
<p>To correct errors, we should take a few steps.</p>
<ol type="1">
<li>Identify the incorrect entry. Note the values included in this incorrect entry.</li>
<li>Decide what the correct entry should be. Note the values included in this correct entry.</li>
<li>Compare the result of the first two steps, and create a journal entry to fix the error. This journal entry should correct the account balances from the incorrect entry to the correct entry. We do not withdraw the old entry, just a new entry to correct the difference.</li>
</ol>
<p><strong>Suspense accounts</strong> are a way to avoid errors in the first place. Sometimes, you know one account for the entry debits/credits, but you are not sure about another. Thus, instead of putting the unknown side of the transaction into a wrong account, you can put it into a temporary account called a suspense account. Later, you can correctly record the transaction.</p>
<p><br></p>
<p><br></p>
<hr>
</section>
</section>
<section id="reporting-standards" class="level1">
<h1><strong>Reporting Standards</strong></h1>
<p><br></p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Below are more examples of assets, liabilities, and equity.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 8%">
<col style="width: 15%">
<col style="width: 75%">
</colgroup>
<tbody>
<tr class="odd">
<td></td>
<td><strong>Current</strong></td>
<td><strong>Non-current</strong></td>
</tr>
<tr class="even">
<td><strong>Assets</strong></td>
<td>Inventory, cash, receivables.</td>
<td>Land, buildings, plant and machinery, patents, motor vehicles, tools, fixtures and fittings, office equipment, computers, long-term investments, ships, works of art.</td>
</tr>
<tr class="odd">
<td><strong>Liabilities</strong></td>
<td>Trade payables, bank overdrafts.</td>
<td>Long-term loans.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p><br></p>
<ul>
<li>This does not apply to sole traders, who themselves own the business.</li>
<li>Limited companies must maintain financial records and file them with authorities. In the UK, they must be filed annually with companies house.</li>
<li>Public companies (who are traded on the stock market) must make financial statements publicly available for anyone to read.</li>
<li>Companies need to prepare statements regarding changes in equity.</li>
</ul>
<p>Another terminology difference is capital/equity. Sole traders hold capital in their companies, while shareholders in a limited company hold equity.</p>
<p>The actual financial statements may differ as well between sole traders and companies:</p>
<ul>
<li>In the income statement, companies report tax expenses, but sole traders do not report tax expenses. This is because for a sole trader, the company is not a separate legal entity, so the sole trader files their own tax return. As a result, limited companies will have a <u>profit before tax</u> and <u>net profit</u> on their statement.</li>
<li>In the income statement expenses, limited companies must more clearly report expenses grouped by headings, such as “distribution costs”, “advertising costs”, or “administrative expenses” for example. Sole traders do not need to go into this detail.</li>
</ul>
<p><br></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>